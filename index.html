<!DOCTYPE html>  
<html lang="ru">  
<head>  
  <meta charset="UTF-8">  
  <title>–ú–∞–∫—Å–ú–∞—Ä–∫–µ—Ç</title>  
  <meta name="viewport" content="width=device-width, initial-scale=1" />  
  <link rel="stylesheet" href="style.css">  
</head>  
<body>  
  
  <!-- –û–±—â–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ -->  
  <header>  
    <h1>–ú–∞–∫—Å–ú–∞—Ä–∫–µ—Ç</h1>  
  </header>  
  
  <!-- üîç –ü–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ -->  
  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." />
    <button id="clearSearch">‚úï</button>
    <button id="searchButton">üîç</button>
    <ul id="suggestionsList" class="suggestions"></ul>
  </div>

  <!-- –ö–æ–Ω—Ç–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è -->  
  <div id="content"></div>  
  
  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->  
  <nav>  
    <a href="#" data-page="home" class="active">–ì–ª–∞–≤–Ω–∞—è</a>  
    <a href="#" data-page="catalog">–ö–∞—Ç–∞–ª–æ–≥</a>  
  </nav>  
  
  <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç SPA (–≤ —Ç–æ–º —á–∏—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Google –¢–∞–±–ª–∏—Ü—ã) -->  
  <script type="module" src="scripts/app.js"></script>  

  <!-- üîß –°–∫—Ä–∏–ø—Ç –ø–æ–∏—Å–∫–∞ —Å –∞–≤—Ç–æ–ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –∏–∑ –º–∞—Å—Å–∏–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
  <script type="module">
    import { products } from './scripts/app.js';

    const searchInput = document.getElementById('searchInput');
    const clearSearch = document.getElementById('clearSearch');
    const suggestionsList = document.getElementById('suggestionsList');

    let productNames = [];

    // –ñ–¥—ë–º –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö
    window.addEventListener('DOMContentLoaded', () => {
      // –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–≤–∞–Ω–∏–π –∏–∑ –º–∞—Å—Å–∏–≤–∞ products
      if (Array.isArray(products)) {
        productNames = products.map(p => p.name).filter(Boolean);
      }

      searchInput.addEventListener('input', () => {
        const query = searchInput.value.trim().toLowerCase();
        clearSearch.style.display = query ? 'block' : 'none';

        const filtered = productNames.filter(name => name.toLowerCase().includes(query));

        suggestionsList.innerHTML = '';
        if (query && filtered.length) {
          filtered.forEach(item => {
            const li = document.createElement('li');
            li.textContent = item;
            li.onclick = () => {
              searchInput.value = item;
              suggestionsList.style.display = 'none';
              // üîÅ –ú–æ–∂–µ—à—å —Ç—É—Ç –≤—Å—Ç–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ item
            };
            suggestionsList.appendChild(li);
          });
          suggestionsList.style.display = 'block';
        } else {
          suggestionsList.style.display = 'none';
        }
      });

      clearSearch.addEventListener('click', () => {
        searchInput.value = '';
        clearSearch.style.display = 'none';
        suggestionsList.style.display = 'none';
        searchInput.focus();
      });
    });
  </script>
</body>  
</html>
