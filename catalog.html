<h2>Выберите категорию</h2>
<div id="categoryList" class="product-list"></div>

<script>
  document.addEventListener('DOMContentLoaded', async () => {
    const container = document.getElementById("categoryList");

    try {
      const res = await fetch(`${baseUrl}/Лист1`);
      const data = await res.json();

      const categories = [...new Set(data.map(p => p.категория).filter(Boolean))];

      categories.forEach(cat => {
        const card = document.createElement("div");
        card.className = "product-card";
        card.style.cursor = "pointer";
        card.innerHTML = `<h3>${cat}</h3>`;
        card.addEventListener("click", () => {
          // Можно открыть подкатегорию через SPA-панель или использовать другую структуру
          alert(`Вы выбрали: ${cat}`); // временно
        });
        container.appendChild(card);
      });

    } catch (err) {
      container.innerHTML = `<p>Ошибка загрузки категорий.</p>`;
      console.error(err);
    }
  });
</script>
